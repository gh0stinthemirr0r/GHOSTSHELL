import{s as Re,F as lt,L as gt,r as wl,u as kl,v as $l,w as Cl,f as d,a as T,l as ee,g as f,h as w,d as v,c as D,m as te,j as i,aa as se,i as Y,x as a,M as G,U as Bl,n as be,E as st,N as Ct,e as Pe,O as X,P as Xt,y as Ce,k as wt,o as Nl}from"./scheduler.621791d8.js";import{S as je,i as Ge,b as oe,d as re,m as ie,a as H,t as W,e as ce,g as Le,c as Ae}from"./index.de4558f1.js";import{I as El,g as Tl,a as Dl,X as Sl,c as St,G as Ul,A as Pl,E as ql,d as Ol,f as Ml,h as yl,D as Ut,Z as Ll,b as Il,e as kt,u as Vl,i as Al,o as Hl,M as Fl}from"./2.a2c3ccf5.js";import{i as $e}from"./settings.f97860d3.js";import{L as Wl}from"./loader.83b17177.js";import{R as Ql}from"./rotate-ccw.63b51a7b.js";/* empty css                        */function Rl(s){let e;const t=s[2].default,l=wl(t,s,s[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,o){l&&l.m(n,o),e=!0},p(n,o){l&&l.p&&(!e||o&8)&&kl(l,t,n,n[3],e?Cl(t,n[3],o,null):$l(n[3]),null)},i(n){e||(H(l,n),e=!0)},o(n){W(l,n),e=!1},d(n){l&&l.d(n)}}}function jl(s){let e,t;const l=[{name:"ellipsis-vertical"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Rl]},$$scope:{ctx:s}};for(let o=0;o<l.length;o+=1)n=lt(n,l[o]);return e=new El({props:n}),{c(){oe(e.$$.fragment)},l(o){re(e.$$.fragment,o)},m(o,r){ie(e,o,r),t=!0},p(o,[r]){const c=r&3?Tl(l,[l[0],r&2&&Dl(o[1]),r&1&&{iconNode:o[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:o}),e.$set(c)},i(o){t||(H(e.$$.fragment,o),t=!0)},o(o){W(e.$$.fragment,o),t=!1},d(o){ce(e,o)}}}function Gl(s,e,t){let{$$slots:l={},$$scope:n}=e;const o=[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]];return s.$$set=r=>{t(1,e=lt(lt({},e),gt(r))),"$$scope"in r&&t(3,n=r.$$scope)},e=gt(e),[o,e,l,n]}class Kl extends je{constructor(e){super(),Ge(this,e,Gl,jl,Re,{})}}const zl=Kl;function Zl(s){let e;const t=s[2].default,l=wl(t,s,s[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,o){l&&l.m(n,o),e=!0},p(n,o){l&&l.p&&(!e||o&8)&&kl(l,t,n,n[3],e?Cl(t,n[3],o,null):$l(n[3]),null)},i(n){e||(H(l,n),e=!0)},o(n){W(l,n),e=!1},d(n){l&&l.d(n)}}}function Xl(s){let e,t;const l=[{name:"share"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[Zl]},$$scope:{ctx:s}};for(let o=0;o<l.length;o+=1)n=lt(n,l[o]);return e=new El({props:n}),{c(){oe(e.$$.fragment)},l(o){re(e.$$.fragment,o)},m(o,r){ie(e,o,r),t=!0},p(o,[r]){const c=r&3?Tl(l,[l[0],r&2&&Dl(o[1]),r&1&&{iconNode:o[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:o}),e.$set(c)},i(o){t||(H(e.$$.fragment,o),t=!0)},o(o){W(e.$$.fragment,o),t=!1},d(o){ce(e,o)}}}function Yl(s,e,t){let{$$slots:l={},$$scope:n}=e;const o=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}],["polyline",{points:"16 6 12 2 8 6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15"}]];return s.$$set=r=>{t(1,e=lt(lt({},e),gt(r))),"$$scope"in r&&t(3,n=r.$$scope)},e=gt(e),[o,e,l,n]}class Jl extends je{constructor(e){super(),Ge(this,e,Yl,Xl,Re,{})}}const xl=Jl;function es(s){let e,t;return e=new Ul({props:{size:14}}),{c(){oe(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function ts(s){let e,t;return e=new Pl({props:{size:14}}),{c(){oe(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function ls(s){let e,t;return e=new Wl({props:{size:14,class:"loading-spinner"}}),{c(){oe(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function ss(s){let e,t;return e=new ql({props:{size:14}}),{c(){oe(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Yt(s){let e,t=el(s[0].pq_posture)+"",l,n;return{c(){e=d("div"),l=ee(t),this.h()},l(o){e=f(o,"DIV",{class:!0});var r=w(e);l=te(r,t),r.forEach(v),this.h()},h(){i(e,"class",n="pq-badge "+xt(s[0].pq_posture)+" svelte-1pan78l")},m(o,r){Y(o,e,r),a(e,l)},p(o,r){r&1&&t!==(t=el(o[0].pq_posture)+"")&&be(l,t),r&1&&n!==(n="pq-badge "+xt(o[0].pq_posture)+" svelte-1pan78l")&&i(e,"class",n)},d(o){o&&v(e)}}}function Jt(s){let e,t,l;return t=new St({props:{size:12}}),{c(){e=d("div"),oe(t.$$.fragment),this.h()},l(n){e=f(n,"DIV",{class:!0,title:!0});var o=w(e);re(t.$$.fragment,o),o.forEach(v),this.h()},h(){i(e,"class","vault-indicator svelte-1pan78l"),i(e,"title","Vault credentials used")},m(n,o){Y(n,e,o),ie(t,e,null),l=!0},i(n){l||(H(t.$$.fragment,n),l=!0)},o(n){W(t.$$.fragment,n),l=!1},d(n){n&&v(e),ce(t)}}}function ns(s){let e,t,l,n,o,r,c,u=tl(s[0])+"",h,m,C,p,b,_,g,$,U;const z=[ss,ls,ts,es],V=[];function O(E,N){return E[0].is_incognito?0:E[0].loading||E[0].state==="Loading"?1:E[0].state==="Error"?2:3}n=O(s),o=V[n]=z[n](s);let B=s[0].pq_posture&&Yt(s),q=s[0].vault_used&&s[0].vault_used.length>0&&Jt();return _=new Sl({props:{size:14}}),{c(){e=d("div"),t=d("div"),l=d("div"),o.c(),r=T(),c=d("div"),h=ee(u),m=T(),B&&B.c(),C=T(),q&&q.c(),p=T(),b=d("button"),oe(_.$$.fragment),this.h()},l(E){e=f(E,"DIV",{class:!0,role:!0,tabindex:!0});var N=w(e);t=f(N,"DIV",{class:!0});var L=w(t);l=f(L,"DIV",{class:!0});var S=w(l);o.l(S),S.forEach(v),r=D(L),c=f(L,"DIV",{class:!0});var y=w(c);h=te(y,u),y.forEach(v),m=D(L),B&&B.l(L),C=D(L),q&&q.l(L),L.forEach(v),p=D(N),b=f(N,"BUTTON",{class:!0,title:!0});var I=w(b);re(_.$$.fragment,I),I.forEach(v),N.forEach(v),this.h()},h(){i(l,"class","tab-icon svelte-1pan78l"),i(c,"class","tab-title svelte-1pan78l"),i(t,"class","tab-content svelte-1pan78l"),i(b,"class","close-btn svelte-1pan78l"),i(b,"title","Close tab"),i(e,"class","browser-tab svelte-1pan78l"),i(e,"role","tab"),i(e,"tabindex","0"),se(e,"active",s[1]),se(e,"cyberpunk",s[2]==="cyberpunk"),se(e,"executive",s[2]==="executive"),se(e,"incognito",s[0].is_incognito)},m(E,N){Y(E,e,N),a(e,t),a(t,l),V[n].m(l,null),a(t,r),a(t,c),a(c,h),a(t,m),B&&B.m(t,null),a(t,C),q&&q.m(t,null),a(e,p),a(e,b),ie(_,b,null),g=!0,$||(U=[G(b,"click",Bl(s[4])),G(e,"click",s[5]),G(e,"keydown",s[6])],$=!0)},p(E,[N]){let L=n;n=O(E),n!==L&&(Le(),W(V[L],1,1,()=>{V[L]=null}),Ae(),o=V[n],o||(o=V[n]=z[n](E),o.c()),H(o,1),o.m(l,null)),(!g||N&1)&&u!==(u=tl(E[0])+"")&&be(h,u),E[0].pq_posture?B?B.p(E,N):(B=Yt(E),B.c(),B.m(t,C)):B&&(B.d(1),B=null),E[0].vault_used&&E[0].vault_used.length>0?q?N&1&&H(q,1):(q=Jt(),q.c(),H(q,1),q.m(t,null)):q&&(Le(),W(q,1,1,()=>{q=null}),Ae()),(!g||N&2)&&se(e,"active",E[1]),(!g||N&4)&&se(e,"cyberpunk",E[2]==="cyberpunk"),(!g||N&4)&&se(e,"executive",E[2]==="executive"),(!g||N&1)&&se(e,"incognito",E[0].is_incognito)},i(E){g||(H(o),H(q),H(_.$$.fragment,E),g=!0)},o(E){W(o),W(q),W(_.$$.fragment,E),g=!1},d(E){E&&v(e),V[n].d(),B&&B.d(),q&&q.d(),ce(_),$=!1,st(U)}}}function xt(s){if(!s)return"unknown";switch(s){case"PurePostQuantum":return"pq";case"Hybrid":return"hybrid";case"Classical":return"classical";default:return"unknown"}}function el(s){if(!s)return"?";switch(s){case"PurePostQuantum":return"PQ";case"Hybrid":return"HY";case"Classical":return"CL";default:return"?"}}function tl(s){return s.title?s.title.length>20?s.title.substring(0,20)+"...":s.title:new URL(s.url).hostname}function as(s,e,t){const l=Ct();let{tab:n}=e,{active:o=!1}=e,{mode:r="cyberpunk"}=e;const c=()=>l("close"),u=()=>l("activate"),h=m=>m.key==="Enter"&&l("activate");return s.$$set=m=>{"tab"in m&&t(0,n=m.tab),"active"in m&&t(1,o=m.active),"mode"in m&&t(2,r=m.mode)},[n,o,r,l,c,u,h]}class os extends je{constructor(e){super(),Ge(this,e,as,ns,Re,{tab:0,active:1,mode:2})}}function ll(s){let e,t,l="Browser Settings",n,o,r,c,u,h,m,C,p,b,_,g,$,U,z,V,O,B,q;return r=new St({props:{size:14}}),m=new Il({props:{size:14}}),_=new Ut({props:{size:14}}),z=new zl({props:{size:14}}),{c(){e=d("div"),t=d("div"),t.textContent=l,n=T(),o=d("button"),oe(r.$$.fragment),c=ee(`\r
            Privacy & Security`),u=T(),h=d("button"),oe(m.$$.fragment),C=ee(`\r
            Appearance`),p=T(),b=d("button"),oe(_.$$.fragment),g=ee(`\r
            Downloads`),$=T(),U=d("button"),oe(z.$$.fragment),V=ee(`\r
            Advanced`),this.h()},l(E){e=f(E,"DIV",{class:!0});var N=w(e);t=f(N,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1wg9tdb"&&(t.textContent=l),n=D(N),o=f(N,"BUTTON",{class:!0});var L=w(o);re(r.$$.fragment,L),c=te(L,`\r
            Privacy & Security`),L.forEach(v),u=D(N),h=f(N,"BUTTON",{class:!0});var S=w(h);re(m.$$.fragment,S),C=te(S,`\r
            Appearance`),S.forEach(v),p=D(N),b=f(N,"BUTTON",{class:!0});var y=w(b);re(_.$$.fragment,y),g=te(y,`\r
            Downloads`),y.forEach(v),$=D(N),U=f(N,"BUTTON",{class:!0});var I=w(U);re(z.$$.fragment,I),V=te(I,`\r
            Advanced`),I.forEach(v),N.forEach(v),this.h()},h(){i(t,"class","menu-header svelte-190muzo"),i(o,"class","menu-item svelte-190muzo"),i(h,"class","menu-item svelte-190muzo"),i(b,"class","menu-item svelte-190muzo"),i(U,"class","menu-item svelte-190muzo"),i(e,"class","dropdown-menu settings-menu svelte-190muzo")},m(E,N){Y(E,e,N),a(e,t),a(e,n),a(e,o),ie(r,o,null),a(o,c),a(e,u),a(e,h),ie(m,h,null),a(h,C),a(e,p),a(e,b),ie(_,b,null),a(b,g),a(e,$),a(e,U),ie(z,U,null),a(U,V),O=!0,B||(q=[G(o,"click",s[23]),G(h,"click",s[24]),G(b,"click",s[25]),G(U,"click",s[26])],B=!0)},p:Ce,i(E){O||(H(r.$$.fragment,E),H(m.$$.fragment,E),H(_.$$.fragment,E),H(z.$$.fragment,E),O=!0)},o(E){W(r.$$.fragment,E),W(m.$$.fragment,E),W(_.$$.fragment,E),W(z.$$.fragment,E),O=!1},d(E){E&&v(e),ce(r),ce(m),ce(_),ce(z),B=!1,st(q)}}}function sl(s){let e,t,l="GhostBrowse",n,o,r="New Tab",c,u,h="New Window",m,C,p="New Incognito Tab",b,_,g,$,U,z,V,O,B="History",q,E,N,L,S,y,I,K,J="Developer Tools",ne,x,R="About GhostBrowse",de,fe,j;return U=new yl({props:{size:14}}),N=new Ut({props:{size:14}}),{c(){e=d("div"),t=d("div"),t.textContent=l,n=T(),o=d("button"),o.textContent=r,c=T(),u=d("button"),u.textContent=h,m=T(),C=d("button"),C.textContent=p,b=T(),_=d("div"),g=T(),$=d("button"),oe(U.$$.fragment),z=ee(`\r
            Bookmarks`),V=T(),O=d("button"),O.textContent=B,q=T(),E=d("button"),oe(N.$$.fragment),L=ee(`\r
            Downloads`),S=T(),y=d("div"),I=T(),K=d("button"),K.textContent=J,ne=T(),x=d("button"),x.textContent=R,this.h()},l(Q){e=f(Q,"DIV",{class:!0});var F=w(e);t=f(F,"DIV",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-9z7yhv"&&(t.textContent=l),n=D(F),o=f(F,"BUTTON",{class:!0,"data-svelte-h":!0}),X(o)!=="svelte-x06r77"&&(o.textContent=r),c=D(F),u=f(F,"BUTTON",{class:!0,"data-svelte-h":!0}),X(u)!=="svelte-cim2wl"&&(u.textContent=h),m=D(F),C=f(F,"BUTTON",{class:!0,"data-svelte-h":!0}),X(C)!=="svelte-1e0osz"&&(C.textContent=p),b=D(F),_=f(F,"DIV",{class:!0}),w(_).forEach(v),g=D(F),$=f(F,"BUTTON",{class:!0});var P=w($);re(U.$$.fragment,P),z=te(P,`\r
            Bookmarks`),P.forEach(v),V=D(F),O=f(F,"BUTTON",{class:!0,"data-svelte-h":!0}),X(O)!=="svelte-e3q59w"&&(O.textContent=B),q=D(F),E=f(F,"BUTTON",{class:!0});var ve=w(E);re(N.$$.fragment,ve),L=te(ve,`\r
            Downloads`),ve.forEach(v),S=D(F),y=f(F,"DIV",{class:!0}),w(y).forEach(v),I=D(F),K=f(F,"BUTTON",{class:!0,"data-svelte-h":!0}),X(K)!=="svelte-i98w9z"&&(K.textContent=J),ne=D(F),x=f(F,"BUTTON",{class:!0,"data-svelte-h":!0}),X(x)!=="svelte-ic5exz"&&(x.textContent=R),F.forEach(v),this.h()},h(){i(t,"class","menu-header svelte-190muzo"),i(o,"class","menu-item svelte-190muzo"),i(u,"class","menu-item svelte-190muzo"),i(C,"class","menu-item svelte-190muzo"),i(_,"class","menu-separator svelte-190muzo"),i($,"class","menu-item svelte-190muzo"),i(O,"class","menu-item svelte-190muzo"),i(E,"class","menu-item svelte-190muzo"),i(y,"class","menu-separator svelte-190muzo"),i(K,"class","menu-item svelte-190muzo"),i(x,"class","menu-item svelte-190muzo"),i(e,"class","dropdown-menu browser-menu svelte-190muzo")},m(Q,F){Y(Q,e,F),a(e,t),a(e,n),a(e,o),a(e,c),a(e,u),a(e,m),a(e,C),a(e,b),a(e,_),a(e,g),a(e,$),ie(U,$,null),a($,z),a(e,V),a(e,O),a(e,q),a(e,E),ie(N,E,null),a(E,L),a(e,S),a(e,y),a(e,I),a(e,K),a(e,ne),a(e,x),de=!0,fe||(j=[G(o,"click",s[27]),G(u,"click",s[28]),G(C,"click",s[29]),G($,"click",s[30]),G(O,"click",s[31]),G(E,"click",s[32]),G(K,"click",s[33]),G(x,"click",s[34])],fe=!0)},p:Ce,i(Q){de||(H(U.$$.fragment,Q),H(N.$$.fragment,Q),de=!0)},o(Q){W(U.$$.fragment,Q),W(N.$$.fragment,Q),de=!1},d(Q){Q&&v(e),ce(U),ce(N),fe=!1,st(j)}}}function nl(s){let e,t,l;return{c(){e=d("div"),this.h()},l(n){e=f(n,"DIV",{class:!0}),w(e).forEach(v),this.h()},h(){i(e,"class","menu-overlay svelte-190muzo")},m(n,o){Y(n,e,o),t||(l=G(e,"click",s[14]),t=!0)},p:Ce,d(n){n&&v(e),t=!1,l()}}}function rs(s){let e,t,l,n,o,r,c,u,h,m,C,p,b,_,g,$,U,z,V,O,B,q,E,N,L,S,y,I,K,J,ne,x,R,de="🧪",fe,j,Q,F,P,ve,k,A,Z,ae,_e,ye,Te;n=new Ol({props:{size:16}}),c=new Ml({props:{size:16}}),m=new Ql({props:{size:16}}),_=new St({props:{size:14}}),O=new yl({props:{size:14}}),E=new xl({props:{size:14}}),I=new Ut({props:{size:16}}),ne=new Ll({props:{size:16}}),Q=new Il({props:{size:16}});let le=s[2]&&ll(s);k=new zl({props:{size:16}});let ue=s[3]&&sl(s),pe=(s[2]||s[3])&&nl(s);return{c(){e=d("div"),t=d("div"),l=d("button"),oe(n.$$.fragment),o=T(),r=d("button"),oe(c.$$.fragment),u=T(),h=d("button"),oe(m.$$.fragment),C=T(),p=d("div"),b=d("div"),oe(_.$$.fragment),g=T(),$=d("input"),U=T(),z=d("div"),V=d("button"),oe(O.$$.fragment),B=T(),q=d("button"),oe(E.$$.fragment),N=T(),L=d("div"),S=d("div"),y=d("button"),oe(I.$$.fragment),K=T(),J=d("button"),oe(ne.$$.fragment),x=T(),R=d("button"),R.textContent=de,fe=T(),j=d("button"),oe(Q.$$.fragment),F=T(),le&&le.c(),P=T(),ve=d("button"),oe(k.$$.fragment),A=T(),ue&&ue.c(),Z=T(),pe&&pe.c(),ae=Pe(),this.h()},l(M){e=f(M,"DIV",{class:!0});var he=w(e);t=f(he,"DIV",{class:!0});var ze=w(t);l=f(ze,"BUTTON",{class:!0,title:!0});var Be=w(l);re(n.$$.fragment,Be),Be.forEach(v),o=D(ze),r=f(ze,"BUTTON",{class:!0,title:!0});var Ke=w(r);re(c.$$.fragment,Ke),Ke.forEach(v),u=D(ze),h=f(ze,"BUTTON",{class:!0,title:!0});var Oe=w(h);re(m.$$.fragment,Oe),Oe.forEach(v),ze.forEach(v),C=D(he),p=f(he,"DIV",{class:!0});var De=w(p);b=f(De,"DIV",{class:!0});var He=w(b);re(_.$$.fragment,He),He.forEach(v),g=D(De),$=f(De,"INPUT",{type:!0,class:!0,placeholder:!0,spellcheck:!0,autocomplete:!0}),U=D(De),z=f(De,"DIV",{class:!0});var Me=w(z);V=f(Me,"BUTTON",{class:!0,title:!0});var Ne=w(V);re(O.$$.fragment,Ne),Ne.forEach(v),B=D(Me),q=f(Me,"BUTTON",{class:!0,title:!0});var nt=w(q);re(E.$$.fragment,nt),nt.forEach(v),Me.forEach(v),De.forEach(v),N=D(he),L=f(he,"DIV",{class:!0});var Ze=w(L);S=f(Ze,"DIV",{class:!0});var me=w(S);y=f(me,"BUTTON",{class:!0,title:!0});var Ee=w(y);re(I.$$.fragment,Ee),Ee.forEach(v),K=D(me),J=f(me,"BUTTON",{class:!0,title:!0});var Ie=w(J);re(ne.$$.fragment,Ie),Ie.forEach(v),x=D(me),R=f(me,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(R)!=="svelte-17exbwe"&&(R.textContent=de),fe=D(me),j=f(me,"BUTTON",{class:!0,title:!0});var Se=w(j);re(Q.$$.fragment,Se),Se.forEach(v),F=D(me),le&&le.l(me),P=D(me),ve=f(me,"BUTTON",{class:!0,title:!0});var at=w(ve);re(k.$$.fragment,at),at.forEach(v),A=D(me),ue&&ue.l(me),me.forEach(v),Ze.forEach(v),he.forEach(v),Z=D(M),pe&&pe.l(M),ae=Pe(),this.h()},h(){i(l,"class","nav-btn svelte-190muzo"),i(l,"title","Back"),l.disabled=!0,i(r,"class","nav-btn svelte-190muzo"),i(r,"title","Forward"),r.disabled=!0,i(h,"class","nav-btn svelte-190muzo"),i(h,"title","Refresh"),i(t,"class","navigation-controls svelte-190muzo"),i(b,"class","security-indicator svelte-190muzo"),i($,"type","text"),i($,"class","address-input svelte-190muzo"),i($,"placeholder","Enter URL or search..."),i($,"spellcheck","false"),i($,"autocomplete","off"),i(V,"class","action-btn svelte-190muzo"),i(V,"title","Bookmark"),i(q,"class","action-btn svelte-190muzo"),i(q,"title","Share"),i(z,"class","input-actions svelte-190muzo"),i(p,"class","address-input-container svelte-190muzo"),se(p,"focused",s[1]),i(y,"class","action-btn svelte-190muzo"),i(y,"title","Downloads"),i(J,"class","action-btn servo-btn svelte-190muzo"),i(J,"title","Servo Engine Stats"),i(R,"class","action-btn test-webview-btn svelte-190muzo"),i(R,"title","Test Webview"),i(j,"class","action-btn svelte-190muzo"),i(j,"title","Settings"),i(ve,"class","action-btn svelte-190muzo"),i(ve,"title","Menu"),i(S,"class","menu-container svelte-190muzo"),i(L,"class","browser-actions svelte-190muzo"),i(e,"class","address-bar-container svelte-190muzo")},m(M,he){Y(M,e,he),a(e,t),a(t,l),ie(n,l,null),a(t,o),a(t,r),ie(c,r,null),a(t,u),a(t,h),ie(m,h,null),a(e,C),a(e,p),a(p,b),ie(_,b,null),a(p,g),a(p,$),Xt($,s[0]),a(p,U),a(p,z),a(z,V),ie(O,V,null),a(z,B),a(z,q),ie(E,q,null),a(e,N),a(e,L),a(L,S),a(S,y),ie(I,y,null),a(S,K),a(S,J),ie(ne,J,null),a(S,x),a(S,R),a(S,fe),a(S,j),ie(Q,j,null),a(S,F),le&&le.m(S,null),a(S,P),a(S,ve),ie(k,ve,null),a(S,A),ue&&ue.m(S,null),Y(M,Z,he),pe&&pe.m(M,he),Y(M,ae,he),_e=!0,ye||(Te=[G(l,"click",s[10]),G(r,"click",s[11]),G(h,"click",s[9]),G($,"input",s[22]),G($,"keydown",s[5]),G($,"focus",s[6]),G($,"blur",s[7]),G($,"click",s[8]),G(V,"click",s[15]),G(q,"click",s[16]),G(y,"click",s[17]),G(J,"click",s[18]),G(R,"click",s[19]),G(j,"click",s[12]),G(ve,"click",s[13])],ye=!0)},p(M,he){he[0]&1&&$.value!==M[0]&&Xt($,M[0]),(!_e||he[0]&2)&&se(p,"focused",M[1]),M[2]?le?(le.p(M,he),he[0]&4&&H(le,1)):(le=ll(M),le.c(),H(le,1),le.m(S,P)):le&&(Le(),W(le,1,1,()=>{le=null}),Ae()),M[3]?ue?(ue.p(M,he),he[0]&8&&H(ue,1)):(ue=sl(M),ue.c(),H(ue,1),ue.m(S,null)):ue&&(Le(),W(ue,1,1,()=>{ue=null}),Ae()),M[2]||M[3]?pe?pe.p(M,he):(pe=nl(M),pe.c(),pe.m(ae.parentNode,ae)):pe&&(pe.d(1),pe=null)},i(M){_e||(H(n.$$.fragment,M),H(c.$$.fragment,M),H(m.$$.fragment,M),H(_.$$.fragment,M),H(O.$$.fragment,M),H(E.$$.fragment,M),H(I.$$.fragment,M),H(ne.$$.fragment,M),H(Q.$$.fragment,M),H(le),H(k.$$.fragment,M),H(ue),_e=!0)},o(M){W(n.$$.fragment,M),W(c.$$.fragment,M),W(m.$$.fragment,M),W(_.$$.fragment,M),W(O.$$.fragment,M),W(E.$$.fragment,M),W(I.$$.fragment,M),W(ne.$$.fragment,M),W(Q.$$.fragment,M),W(le),W(k.$$.fragment,M),W(ue),_e=!1},d(M){M&&(v(e),v(Z),v(ae)),ce(n),ce(c),ce(m),ce(_),ce(O),ce(E),ce(I),ce(ne),ce(Q),le&&le.d(),ce(k),ue&&ue.d(),pe&&pe.d(M),ye=!1,st(Te)}}}function is(s,e,t){const l=Ct();let{url:n=""}=e,{mode:o="cyberpunk"}=e,r=n,c=!1,u=!1,h=!1;function m(P){P.key==="Enter"?C():P.key==="Escape"&&(t(0,r=n),P.target.blur())}function C(){if(r.trim()){let P=r.trim();!P.startsWith("http://")&&!P.startsWith("https://")&&(P.includes(".")&&!P.includes(" ")?P="https://"+P:P=`https://www.google.com/search?q=${encodeURIComponent(P)}`),l("navigate",P)}}function p(){t(1,c=!0)}function b(){t(1,c=!1),t(0,r=n)}function _(P){c&&P.target.select()}function g(){n&&l("navigate",n)}function $(){l("back")}function U(){l("forward")}function z(){t(2,u=!u),t(3,h=!1)}function V(){t(3,h=!h),t(2,u=!1)}function O(){t(2,u=!1),t(3,h=!1)}function B(){l("bookmark",n)}function q(){l("share",n)}function E(){l("downloads")}function N(){l("servo-stats")}function L(){l("test-webview")}function S(){r=this.value,t(0,r),t(20,n)}const y=()=>l("setting","privacy"),I=()=>l("setting","appearance"),K=()=>l("setting","downloads"),J=()=>l("setting","advanced"),ne=()=>l("menu","new-tab"),x=()=>l("menu","new-window"),R=()=>l("menu","incognito"),de=()=>l("menu","bookmarks"),fe=()=>l("menu","history"),j=()=>l("menu","downloads"),Q=()=>l("menu","developer-tools"),F=()=>l("menu","about");return s.$$set=P=>{"url"in P&&t(20,n=P.url),"mode"in P&&t(21,o=P.mode)},s.$$.update=()=>{s.$$.dirty[0]&1048576&&t(0,r=n)},[r,c,u,h,l,m,p,b,_,g,$,U,z,V,O,B,q,E,N,L,n,o,S,y,I,K,J,ne,x,R,de,fe,j,Q,F]}class cs extends je{constructor(e){super(),Ge(this,e,is,rs,Re,{url:20,mode:21},null,[-1,-1])}}function us(s){let e,t='<span class="status-text svelte-g10897">No active tab</span>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1jzrwe0"&&(e.innerHTML=t),this.h()},h(){i(e,"class","no-tab")},m(l,n){Y(l,e,n)},p:Ce,d(l){l&&v(e)}}}function ds(s){let e,t,l,n,o,r,c,u,h=il(s[0].url)+"",m;function C(_,g){return _[0].state==="Loading"?hs:_[0].state==="Active"?_s:_[0].state==="Error"?vs:fs}let p=C(s),b=p(s);return{c(){e=d("div"),t=d("span"),b.c(),l=T(),n=d("span"),o=ee(s[2]),r=T(),c=d("div"),u=d("span"),m=ee(h),this.h()},l(_){e=f(_,"DIV",{class:!0});var g=w(e);t=f(g,"SPAN",{class:!0});var $=w(t);b.l($),$.forEach(v),l=D(g),n=f(g,"SPAN",{class:!0});var U=w(n);o=te(U,s[2]),U.forEach(v),g.forEach(v),r=D(_),c=f(_,"DIV",{class:!0});var z=w(c);u=f(z,"SPAN",{class:!0});var V=w(u);m=te(V,h),V.forEach(v),z.forEach(v),this.h()},h(){i(t,"class","status-icon"),i(n,"class","status-text svelte-g10897"),i(e,"class","connection-status svelte-g10897"),i(u,"class","domain svelte-g10897"),i(c,"class","domain-info svelte-g10897")},m(_,g){Y(_,e,g),a(e,t),b.m(t,null),a(e,l),a(e,n),a(n,o),Y(_,r,g),Y(_,c,g),a(c,u),a(u,m)},p(_,g){p!==(p=C(_))&&(b.d(1),b=p(_),b&&(b.c(),b.m(t,null))),g&4&&be(o,_[2]),g&1&&h!==(h=il(_[0].url)+"")&&be(m,h)},d(_){_&&(v(e),v(r),v(c)),b.d()}}}function fs(s){let e;return{c(){e=ee("⭕")},l(t){e=te(t,"⭕")},m(t,l){Y(t,e,l)},d(t){t&&v(e)}}}function vs(s){let e;return{c(){e=ee("❌")},l(t){e=te(t,"❌")},m(t,l){Y(t,e,l)},d(t){t&&v(e)}}}function _s(s){let e;return{c(){e=ee("✅")},l(t){e=te(t,"✅")},m(t,l){Y(t,e,l)},d(t){t&&v(e)}}}function hs(s){let e;return{c(){e=d("div"),this.h()},l(t){e=f(t,"DIV",{class:!0}),w(e).forEach(v),this.h()},h(){i(e,"class","loading-dot svelte-g10897")},m(t,l){Y(t,e,l)},d(t){t&&v(e)}}}function al(s){let e,t,l="🔐",n,o,r=s[0].vault_used.length+"",c,u;return{c(){e=d("div"),t=d("span"),t.textContent=l,n=T(),o=d("span"),c=ee(r),this.h()},l(h){e=f(h,"DIV",{class:!0,title:!0});var m=w(e);t=f(m,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-19tpdno"&&(t.textContent=l),n=D(m),o=f(m,"SPAN",{class:!0});var C=w(o);c=te(C,r),C.forEach(v),m.forEach(v),this.h()},h(){i(t,"class","vault-icon"),i(o,"class","vault-count svelte-g10897"),i(e,"class","vault-status svelte-g10897"),i(e,"title",u="Vault credentials used: "+s[0].vault_used.length)},m(h,m){Y(h,e,m),a(e,t),a(e,n),a(e,o),a(o,c)},p(h,m){m&1&&r!==(r=h[0].vault_used.length+"")&&be(c,r),m&1&&u!==(u="Vault credentials used: "+h[0].vault_used.length)&&i(e,"title",u)},d(h){h&&v(e)}}}function ol(s){let e,t,l=s[3].icon+"",n,o,r,c=s[3].text+"",u,h,m,C=s[0].is_incognito&&rl();return{c(){e=d("div"),t=d("span"),n=ee(l),o=T(),r=d("span"),u=ee(c),h=T(),C&&C.c(),m=Pe(),this.h()},l(p){e=f(p,"DIV",{class:!0});var b=w(e);t=f(b,"SPAN",{class:!0});var _=w(t);n=te(_,l),_.forEach(v),o=D(b),r=f(b,"SPAN",{class:!0});var g=w(r);u=te(g,c),g.forEach(v),b.forEach(v),h=D(p),C&&C.l(p),m=Pe(),this.h()},h(){i(t,"class","pq-icon"),i(r,"class","pq-text svelte-g10897"),i(e,"class","pq-status svelte-g10897"),se(e,"pq",s[3].color==="cyan"),se(e,"hybrid",s[3].color==="purple"),se(e,"classical",s[3].color==="amber")},m(p,b){Y(p,e,b),a(e,t),a(t,n),a(e,o),a(e,r),a(r,u),Y(p,h,b),C&&C.m(p,b),Y(p,m,b)},p(p,b){b&8&&l!==(l=p[3].icon+"")&&be(n,l),b&8&&c!==(c=p[3].text+"")&&be(u,c),b&8&&se(e,"pq",p[3].color==="cyan"),b&8&&se(e,"hybrid",p[3].color==="purple"),b&8&&se(e,"classical",p[3].color==="amber"),p[0].is_incognito?C||(C=rl(),C.c(),C.m(m.parentNode,m)):C&&(C.d(1),C=null)},d(p){p&&(v(e),v(h),v(m)),C&&C.d(p)}}}function rl(s){let e,t='<span class="incognito-icon">🕶️</span> <span class="incognito-text svelte-g10897">Incognito</span>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,title:!0,"data-svelte-h":!0}),X(e)!=="svelte-qs9g7b"&&(e.innerHTML=t),this.h()},h(){i(e,"class","incognito-indicator svelte-g10897"),i(e,"title","Incognito mode")},m(l,n){Y(l,e,n)},d(l){l&&v(e)}}}function ms(s){let e,t,l,n,o,r,c,u,h='<span class="browser-name svelte-g10897">GhostBrowse</span>';function m(g,$){return g[0]?ds:us}let C=m(s),p=C(s),b=s[0]&&s[0].vault_used&&s[0].vault_used.length>0&&al(s),_=s[0]&&ol(s);return{c(){e=d("div"),t=d("div"),p.c(),l=T(),n=d("div"),b&&b.c(),o=T(),r=d("div"),_&&_.c(),c=T(),u=d("div"),u.innerHTML=h,this.h()},l(g){e=f(g,"DIV",{class:!0});var $=w(e);t=f($,"DIV",{class:!0});var U=w(t);p.l(U),U.forEach(v),l=D($),n=f($,"DIV",{class:!0});var z=w(n);b&&b.l(z),z.forEach(v),o=D($),r=f($,"DIV",{class:!0});var V=w(r);_&&_.l(V),c=D(V),u=f(V,"DIV",{class:!0,"data-svelte-h":!0}),X(u)!=="svelte-baaajf"&&(u.innerHTML=h),V.forEach(v),$.forEach(v),this.h()},h(){i(t,"class","status-left svelte-g10897"),i(n,"class","status-center svelte-g10897"),i(u,"class","browser-info svelte-g10897"),i(r,"class","status-right svelte-g10897"),i(e,"class","status-bar svelte-g10897"),se(e,"cyberpunk",s[1]==="cyberpunk"),se(e,"executive",s[1]==="executive")},m(g,$){Y(g,e,$),a(e,t),p.m(t,null),a(e,l),a(e,n),b&&b.m(n,null),a(e,o),a(e,r),_&&_.m(r,null),a(r,c),a(r,u)},p(g,[$]){C===(C=m(g))&&p?p.p(g,$):(p.d(1),p=C(g),p&&(p.c(),p.m(t,null))),g[0]&&g[0].vault_used&&g[0].vault_used.length>0?b?b.p(g,$):(b=al(g),b.c(),b.m(n,null)):b&&(b.d(1),b=null),g[0]?_?_.p(g,$):(_=ol(g),_.c(),_.m(r,c)):_&&(_.d(1),_=null),$&2&&se(e,"cyberpunk",g[1]==="cyberpunk"),$&2&&se(e,"executive",g[1]==="executive")},i:Ce,o:Ce,d(g){g&&v(e),p.d(),b&&b.d(),_&&_.d()}}}function bs(s){if(!s)return{text:"Unknown",color:"gray",icon:"?"};switch(s){case"PurePostQuantum":return{text:"Post-Quantum",color:"cyan",icon:"🔒"};case"Hybrid":return{text:"Hybrid PQ",color:"purple",icon:"🔐"};case"Classical":return{text:"Classical",color:"amber",icon:"⚠️"};default:return{text:"Unknown",color:"gray",icon:"?"}}}function ps(s){if(!s)return"No connection";switch(s.state){case"Loading":return"Connecting...";case"Active":return"Connected";case"Error":return"Connection failed";case"Inactive":return"Inactive";default:return"Unknown"}}function il(s){if(!s)return"";try{return new URL(s).hostname}catch{return s}}function gs(s,e,t){let l,n,{tab:o=null}=e,{mode:r="cyberpunk"}=e;return s.$$set=c=>{"tab"in c&&t(0,o=c.tab),"mode"in c&&t(1,r=c.mode)},s.$$.update=()=>{s.$$.dirty&1&&t(3,l=bs(o?.pq_posture)),s.$$.dirty&1&&t(2,n=ps(o))},[o,r,n,l]}class ws extends je{constructor(e){super(),Ge(this,e,gs,ms,Re,{tab:0,mode:1})}}function cl(s,e,t){const l=s.slice();return l[8]=e[t],l}function ks(s){let e=[],t=new Map,l,n=kt(s[0]);const o=r=>r[8].meta.id;for(let r=0;r<n.length;r+=1){let c=cl(s,n,r),u=o(c);t.set(u,e[r]=fl(u,c))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=Pe()},l(r){for(let c=0;c<e.length;c+=1)e[c].l(r);l=Pe()},m(r,c){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,c);Y(r,l,c)},p(r,c){c&25&&(n=kt(r[0]),e=Vl(e,c,o,1,r,n,t,l.parentNode,Al,fl,l,cl))},d(r){r&&v(l);for(let c=0;c<e.length;c+=1)e[c].d(r)}}}function $s(s){let e,t="<p>No downloads</p>";return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-emx1s1"&&(e.innerHTML=t),this.h()},h(){i(e,"class","no-downloads svelte-19tlga8")},m(l,n){Y(l,e,n)},p:Ce,d(l){l&&v(e)}}}function ul(s){let e,t,l=$t(s[8].progress)+"",n;return{c(){e=d("span"),t=ee("• "),n=ee(l),this.h()},l(o){e=f(o,"SPAN",{class:!0});var r=w(e);t=te(r,"• "),n=te(r,l),r.forEach(v),this.h()},h(){i(e,"class","download-progress")},m(o,r){Y(o,e,r),a(e,t),a(e,n)},p(o,r){r&1&&l!==(l=$t(o[8].progress)+"")&&be(n,l)},d(o){o&&v(e)}}}function Cs(s){let e,t="Unseal",l,n;function o(){return s[7](s[8])}return{c(){e=d("button"),e.textContent=t,this.h()},l(r){e=f(r,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(e)!=="svelte-jyu41p"&&(e.textContent=t),this.h()},h(){i(e,"class","action-btn unseal-btn svelte-19tlga8"),i(e,"title","Unseal and save file")},m(r,c){Y(r,e,c),l||(n=G(e,"click",o),l=!0)},p(r,c){s=r},d(r){r&&v(e),l=!1,n()}}}function Es(s){let e,t="Cancel",l,n;function o(){return s[6](s[8])}return{c(){e=d("button"),e.textContent=t,this.h()},l(r){e=f(r,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(e)!=="svelte-17kj1jr"&&(e.textContent=t),this.h()},h(){i(e,"class","action-btn cancel-btn svelte-19tlga8"),i(e,"title","Cancel download")},m(r,c){Y(r,e,c),l||(n=G(e,"click",o),l=!0)},p(r,c){s=r},d(r){r&&v(e),l=!1,n()}}}function dl(s){let e,t;return{c(){e=d("div"),t=d("div"),this.h()},l(l){e=f(l,"DIV",{class:!0});var n=w(e);t=f(n,"DIV",{class:!0,style:!0}),w(t).forEach(v),n.forEach(v),this.h()},h(){i(t,"class","progress-fill svelte-19tlga8"),wt(t,"width",$t(s[8].progress)),i(e,"class","progress-bar svelte-19tlga8")},m(l,n){Y(l,e,n),a(e,t)},p(l,n){n&1&&wt(t,"width",$t(l[8].progress))},d(l){l&&v(e)}}}function fl(s,e){let t,l,n,o=_l(e[8].status)+"",r,c,u,h,m=e[8].meta.original_filename+"",C,p,b,_,g=e[8].meta.url+"",$,U,z,V,O,B=vl(e[8].meta.size)+"",q,E,N,L,S,y=e[8].status+"",I,K,J,ne,x,R=e[8].status==="Downloading"&&ul(e);function de(F,P){if(F[8].status==="Downloading"||F[8].status==="Pending")return Es;if(F[8].status==="Completed")return Cs}let fe=de(e),j=fe&&fe(e),Q=e[8].status==="Downloading"&&dl(e);return{key:s,first:null,c(){t=d("div"),l=d("div"),n=d("div"),r=ee(o),c=T(),u=d("div"),h=d("div"),C=ee(m),b=T(),_=d("div"),$=ee(g),z=T(),V=d("div"),O=d("span"),q=ee(B),E=T(),R&&R.c(),N=T(),L=d("span"),S=ee("• "),I=ee(y),K=T(),J=d("div"),j&&j.c(),ne=T(),Q&&Q.c(),x=T(),this.h()},l(F){t=f(F,"DIV",{class:!0});var P=w(t);l=f(P,"DIV",{class:!0});var ve=w(l);n=f(ve,"DIV",{class:!0});var k=w(n);r=te(k,o),k.forEach(v),c=D(ve),u=f(ve,"DIV",{class:!0});var A=w(u);h=f(A,"DIV",{class:!0,title:!0});var Z=w(h);C=te(Z,m),Z.forEach(v),b=D(A),_=f(A,"DIV",{class:!0,title:!0});var ae=w(_);$=te(ae,g),ae.forEach(v),z=D(A),V=f(A,"DIV",{class:!0});var _e=w(V);O=f(_e,"SPAN",{class:!0});var ye=w(O);q=te(ye,B),ye.forEach(v),E=D(_e),R&&R.l(_e),N=D(_e),L=f(_e,"SPAN",{class:!0,style:!0});var Te=w(L);S=te(Te,"• "),I=te(Te,y),Te.forEach(v),_e.forEach(v),A.forEach(v),ve.forEach(v),K=D(P),J=f(P,"DIV",{class:!0});var le=w(J);j&&j.l(le),le.forEach(v),ne=D(P),Q&&Q.l(P),x=D(P),P.forEach(v),this.h()},h(){i(n,"class","download-icon svelte-19tlga8"),i(h,"class","download-name svelte-19tlga8"),i(h,"title",p=e[8].meta.original_filename),i(_,"class","download-url svelte-19tlga8"),i(_,"title",U=e[8].meta.url),i(O,"class","download-size"),i(L,"class","download-status"),wt(L,"color",hl(e[8].status)),i(V,"class","download-meta svelte-19tlga8"),i(u,"class","download-details svelte-19tlga8"),i(l,"class","download-info svelte-19tlga8"),i(J,"class","download-actions svelte-19tlga8"),i(t,"class","download-item svelte-19tlga8"),this.first=t},m(F,P){Y(F,t,P),a(t,l),a(l,n),a(n,r),a(l,c),a(l,u),a(u,h),a(h,C),a(u,b),a(u,_),a(_,$),a(u,z),a(u,V),a(V,O),a(O,q),a(V,E),R&&R.m(V,null),a(V,N),a(V,L),a(L,S),a(L,I),a(t,K),a(t,J),j&&j.m(J,null),a(t,ne),Q&&Q.m(t,null),a(t,x)},p(F,P){e=F,P&1&&o!==(o=_l(e[8].status)+"")&&be(r,o),P&1&&m!==(m=e[8].meta.original_filename+"")&&be(C,m),P&1&&p!==(p=e[8].meta.original_filename)&&i(h,"title",p),P&1&&g!==(g=e[8].meta.url+"")&&be($,g),P&1&&U!==(U=e[8].meta.url)&&i(_,"title",U),P&1&&B!==(B=vl(e[8].meta.size)+"")&&be(q,B),e[8].status==="Downloading"?R?R.p(e,P):(R=ul(e),R.c(),R.m(V,N)):R&&(R.d(1),R=null),P&1&&y!==(y=e[8].status+"")&&be(I,y),P&1&&wt(L,"color",hl(e[8].status)),fe===(fe=de(e))&&j?j.p(e,P):(j&&j.d(1),j=fe&&fe(e),j&&(j.c(),j.m(J,null))),e[8].status==="Downloading"?Q?Q.p(e,P):(Q=dl(e),Q.c(),Q.m(t,x)):Q&&(Q.d(1),Q=null)},d(F){F&&v(t),R&&R.d(),j&&j.d(),Q&&Q.d()}}}function Ts(s){let e,t,l,n="Download Manager",o,r,c="×",u,h,m,C;function p(g,$){return g[0].length===0?$s:ks}let b=p(s),_=b(s);return{c(){e=d("div"),t=d("div"),l=d("h3"),l.textContent=n,o=T(),r=d("button"),r.textContent=c,u=T(),h=d("div"),_.c(),this.h()},l(g){e=f(g,"DIV",{class:!0});var $=w(e);t=f($,"DIV",{class:!0});var U=w(t);l=f(U,"H3",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-muefvz"&&(l.textContent=n),o=D(U),r=f(U,"BUTTON",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-27ojl4"&&(r.textContent=c),U.forEach(v),u=D($),h=f($,"DIV",{class:!0});var z=w(h);_.l(z),z.forEach(v),$.forEach(v),this.h()},h(){i(l,"class","svelte-19tlga8"),i(r,"class","close-btn svelte-19tlga8"),i(t,"class","download-header svelte-19tlga8"),i(h,"class","download-list svelte-19tlga8"),i(e,"class","download-manager svelte-19tlga8"),se(e,"cyberpunk",s[1]==="cyberpunk"),se(e,"executive",s[1]==="executive")},m(g,$){Y(g,e,$),a(e,t),a(t,l),a(t,o),a(t,r),a(e,u),a(e,h),_.m(h,null),m||(C=G(r,"click",s[5]),m=!0)},p(g,[$]){b===(b=p(g))&&_?_.p(g,$):(_.d(1),_=b(g),_&&(_.c(),_.m(h,null))),$&2&&se(e,"cyberpunk",g[1]==="cyberpunk"),$&2&&se(e,"executive",g[1]==="executive")},i:Ce,o:Ce,d(g){g&&v(e),_.d(),m=!1,C()}}}function vl(s){if(s===0)return"0 B";const e=1024,t=["B","KB","MB","GB"],l=Math.floor(Math.log(s)/Math.log(e));return parseFloat((s/Math.pow(e,l)).toFixed(1))+" "+t[l]}function $t(s){return Math.round(s*100)+"%"}function _l(s){switch(s){case"Pending":return"⏳";case"Downloading":return"⬇️";case"Sealing":return"🔒";case"Completed":return"✅";case"Cancelled":return"❌";default:return"❓"}}function hl(s){switch(s){case"Pending":return"orange";case"Downloading":return"blue";case"Sealing":return"purple";case"Completed":return"green";case"Cancelled":return"red";default:return"gray"}}function Ds(s,e,t){const l=Ct();let{downloads:n=[]}=e,{mode:o="cyberpunk"}=e;async function r(C){try{await $e("browse_cancel_download",{downloadId:C}),l("refresh")}catch(p){console.error("Failed to cancel download:",p)}}async function c(C,p){try{const b=`./downloads/${p}`;await $e("browse_unseal_download",{downloadId:C,outputPath:b})?console.log("Download unsealed successfully"):console.error("Failed to unseal download")}catch(b){console.error("Failed to unseal download:",b)}}const u=()=>l("close"),h=C=>r(C.meta.id),m=C=>c(C.meta.id,C.meta.original_filename);return s.$$set=C=>{"downloads"in C&&t(0,n=C.downloads),"mode"in C&&t(1,o=C.mode)},[n,o,l,r,c,u,h,m]}class ys extends je{constructor(e){super(),Ge(this,e,Ds,Ts,Re,{downloads:0,mode:1})}}function ml(s,e,t){const l=s.slice();return l[41]=e[t],l}function bl(s,e){let t,l,n;function o(){return e[19](e[41])}function r(){return e[20](e[41])}return l=new os({props:{tab:e[41],active:e[41].id===e[4],mode:e[0]}}),l.$on("activate",o),l.$on("close",r),{key:s,first:null,c(){t=Pe(),oe(l.$$.fragment),this.h()},l(c){t=Pe(),re(l.$$.fragment,c),this.h()},h(){this.first=t},m(c,u){Y(c,t,u),ie(l,c,u),n=!0},p(c,u){e=c;const h={};u[0]&8&&(h.tab=e[41]),u[0]&24&&(h.active=e[41].id===e[4]),u[0]&1&&(h.mode=e[0]),l.$set(h)},i(c){n||(H(l.$$.fragment,c),n=!0)},o(c){W(l.$$.fragment,c),n=!1},d(c){c&&v(t),ce(l,c)}}}function Is(s){let e,t,l="Welcome to GhostBrowse",n,o,r="Post-Quantum Secure Browser",c,u,h,m="Open New Tab",C,p,b="🧪 Test Webview",_,g,$="🔗 Create Tab Webview",U,z;return{c(){e=d("div"),t=d("h2"),t.textContent=l,n=T(),o=d("p"),o.textContent=r,c=T(),u=d("div"),h=d("button"),h.textContent=m,C=T(),p=d("button"),p.textContent=b,_=T(),g=d("button"),g.textContent=$,this.h()},l(V){e=f(V,"DIV",{class:!0});var O=w(e);t=f(O,"H2",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-19purfu"&&(t.textContent=l),n=D(O),o=f(O,"P",{class:!0,"data-svelte-h":!0}),X(o)!=="svelte-v2u6bf"&&(o.textContent=r),c=D(O),u=f(O,"DIV",{class:!0});var B=w(u);h=f(B,"BUTTON",{class:!0,"data-svelte-h":!0}),X(h)!=="svelte-e0dtfl"&&(h.textContent=m),C=D(B),p=f(B,"BUTTON",{class:!0,"data-svelte-h":!0}),X(p)!=="svelte-1ayvzro"&&(p.textContent=b),_=D(B),g=f(B,"BUTTON",{class:!0,"data-svelte-h":!0}),X(g)!=="svelte-16zp5uz"&&(g.textContent=$),B.forEach(v),O.forEach(v),this.h()},h(){i(t,"class","svelte-17uildx"),i(o,"class","svelte-17uildx"),i(h,"class","svelte-17uildx"),i(p,"class","test-webview-btn svelte-17uildx"),i(g,"class","test-embedded-btn svelte-17uildx"),i(u,"class","welcome-actions svelte-17uildx"),i(e,"class","no-tabs svelte-17uildx")},m(V,O){Y(V,e,O),a(e,t),a(e,n),a(e,o),a(e,c),a(e,u),a(u,h),a(u,C),a(u,p),a(u,_),a(u,g),U||(z=[G(h,"click",s[30]),G(p,"click",s[9]),G(g,"click",s[31])],U=!0)},p:Ce,i:Ce,o:Ce,d(V){V&&v(e),U=!1,st(z)}}}function Vs(s){let e,t,l,n;const o=[Bs,zs],r=[];function c(u,h){return u[5].loading?0:1}return e=c(s),t=r[e]=o[e](s),{c(){t.c(),l=Pe()},l(u){t.l(u),l=Pe()},m(u,h){r[e].m(u,h),Y(u,l,h),n=!0},p(u,h){let m=e;e=c(u),e===m?r[e].p(u,h):(Le(),W(r[m],1,1,()=>{r[m]=null}),Ae(),t=r[e],t?t.p(u,h):(t=r[e]=o[e](u),t.c()),H(t,1),t.m(l.parentNode,l))},i(u){n||(H(t),n=!0)},o(u){W(t),n=!1},d(u){u&&v(l),r[e].d(u)}}}function zs(s){let e,t,l,n,o,r,c="🌐",u,h,m,C=(s[5].title||tt(s[5].url))+"",p,b,_,g=s[5].url+"",$,U,z,V="Open in External Browser",O,B,q,E,N,L,S="🌐",y,I,K=s[5].url+"",J,ne,x,R,de,fe,j,Q="🔗",F,P,ve="🧪",k,A,Z,ae,_e,ye="🚀",Te,le,ue="Native Webview Active",pe,M,he="This tab is using a native Tauri webview positioned over this area.",ze,Be,Ke,Oe,De=s[5].url+"",He,Me,Ne,nt='<div class="feature svelte-17uildx">✅ Full Native Performance</div> <div class="feature svelte-17uildx">✅ Complete Web Compatibility</div> <div class="feature svelte-17uildx">✅ Enhanced Security Isolation</div> <div class="feature svelte-17uildx">✅ Per-Tab Webview Management</div>',Ze,me,Ee,Ie,Se,at="🔒",Et,Xe,Tt,ot=s[5].pq_posture+"",it,Dt,Fe,Pt='<span class="status-icon svelte-17uildx">⚡</span> <span>Servo Engine</span>',yt,We,qt='<span class="status-icon svelte-17uildx">🛡️</span> <span>Sandboxed</span>',It,Ye,qe,Qe,rt=(s[5].pq_posture||"Unknown")+"",ct,ut,Vt,Ve,zt,Ot;de=new Fl({props:{size:14}});let we=s[5].vault_used&&s[5].vault_used.length>0&&pl();return{c(){e=d("div"),t=d("div"),l=d("div"),n=d("div"),o=d("div"),r=d("div"),r.textContent=c,u=T(),h=d("div"),m=d("h3"),p=ee(C),b=T(),_=d("p"),$=ee(g),U=T(),z=d("button"),z.textContent=V,O=T(),B=d("div"),q=d("div"),E=d("div"),N=d("div"),L=d("span"),L.textContent=S,y=T(),I=d("span"),J=ee(K),ne=T(),x=d("div"),R=d("button"),oe(de.$$.fragment),fe=T(),j=d("button"),j.textContent=Q,F=T(),P=d("button"),P.textContent=ve,k=T(),A=d("div"),Z=d("div"),ae=d("div"),_e=d("div"),_e.textContent=ye,Te=T(),le=d("h3"),le.textContent=ue,pe=T(),M=d("p"),M.textContent=he,ze=T(),Be=d("p"),Ke=ee("Loading: "),Oe=d("strong"),He=ee(De),Me=T(),Ne=d("div"),Ne.innerHTML=nt,Ze=T(),me=d("div"),Ee=d("div"),Ie=d("div"),Se=d("span"),Se.textContent=at,Et=T(),Xe=d("span"),Tt=ee("PQ: "),it=ee(ot),Dt=T(),Fe=d("div"),Fe.innerHTML=Pt,yt=T(),We=d("div"),We.innerHTML=qt,It=T(),Ye=d("div"),qe=d("div"),Qe=d("div"),ct=ee(rt),Vt=T(),we&&we.c(),this.h()},l(ge){e=f(ge,"DIV",{class:!0});var ke=w(e);t=f(ke,"DIV",{class:!0});var Mt=w(t);l=f(Mt,"DIV",{class:!0});var dt=w(l);n=f(dt,"DIV",{class:!0});var ft=w(n);o=f(ft,"DIV",{class:!0});var vt=w(o);r=f(vt,"DIV",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-k33ufs"&&(r.textContent=c),u=D(vt),h=f(vt,"DIV",{class:!0});var _t=w(h);m=f(_t,"H3",{class:!0});var Lt=w(m);p=te(Lt,C),Lt.forEach(v),b=D(_t),_=f(_t,"P",{class:!0});var At=w(_);$=te(At,g),At.forEach(v),_t.forEach(v),vt.forEach(v),U=D(ft),z=f(ft,"BUTTON",{class:!0,"data-svelte-h":!0}),X(z)!=="svelte-1j877um"&&(z.textContent=V),ft.forEach(v),O=D(dt),B=f(dt,"DIV",{class:!0});var Ht=w(B);q=f(Ht,"DIV",{class:!0});var Je=w(q);E=f(Je,"DIV",{class:!0});var ht=w(E);N=f(ht,"DIV",{class:!0});var mt=w(N);L=f(mt,"SPAN",{class:!0,"data-svelte-h":!0}),X(L)!=="svelte-1dhnat4"&&(L.textContent=S),y=D(mt),I=f(mt,"SPAN",{class:!0});var Ft=w(I);J=te(Ft,K),Ft.forEach(v),mt.forEach(v),ne=D(ht),x=f(ht,"DIV",{class:!0});var xe=w(x);R=f(xe,"BUTTON",{class:!0,title:!0});var Wt=w(R);re(de.$$.fragment,Wt),Wt.forEach(v),fe=D(xe),j=f(xe,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(j)!=="svelte-1lkod7r"&&(j.textContent=Q),F=D(xe),P=f(xe,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),X(P)!=="svelte-13q1aym"&&(P.textContent=ve),xe.forEach(v),ht.forEach(v),k=D(Je),A=f(Je,"DIV",{class:!0});var Qt=w(A);Z=f(Qt,"DIV",{class:!0});var Rt=w(Z);ae=f(Rt,"DIV",{class:!0});var Ue=w(ae);_e=f(Ue,"DIV",{class:!0,"data-svelte-h":!0}),X(_e)!=="svelte-j48i51"&&(_e.textContent=ye),Te=D(Ue),le=f(Ue,"H3",{class:!0,"data-svelte-h":!0}),X(le)!=="svelte-ma2qqc"&&(le.textContent=ue),pe=D(Ue),M=f(Ue,"P",{class:!0,"data-svelte-h":!0}),X(M)!=="svelte-x4eyk6"&&(M.textContent=he),ze=D(Ue),Be=f(Ue,"P",{class:!0});var Bt=w(Be);Ke=te(Bt,"Loading: "),Oe=f(Bt,"STRONG",{});var jt=w(Oe);He=te(jt,De),jt.forEach(v),Bt.forEach(v),Me=D(Ue),Ne=f(Ue,"DIV",{class:!0,"data-svelte-h":!0}),X(Ne)!=="svelte-1e38706"&&(Ne.innerHTML=nt),Ue.forEach(v),Rt.forEach(v),Qt.forEach(v),Ze=D(Je),me=f(Je,"DIV",{class:!0});var Gt=w(me);Ee=f(Gt,"DIV",{class:!0});var et=w(Ee);Ie=f(et,"DIV",{class:!0});var bt=w(Ie);Se=f(bt,"SPAN",{class:!0,"data-svelte-h":!0}),X(Se)!=="svelte-9ozlua"&&(Se.textContent=at),Et=D(bt),Xe=f(bt,"SPAN",{});var Nt=w(Xe);Tt=te(Nt,"PQ: "),it=te(Nt,ot),Nt.forEach(v),bt.forEach(v),Dt=D(et),Fe=f(et,"DIV",{class:!0,"data-svelte-h":!0}),X(Fe)!=="svelte-1xvst7s"&&(Fe.innerHTML=Pt),yt=D(et),We=f(et,"DIV",{class:!0,"data-svelte-h":!0}),X(We)!=="svelte-1o0hjk9"&&(We.innerHTML=qt),et.forEach(v),Gt.forEach(v),Je.forEach(v),Ht.forEach(v),dt.forEach(v),Mt.forEach(v),It=D(ke),Ye=f(ke,"DIV",{class:!0});var Kt=w(Ye);qe=f(Kt,"DIV",{class:!0});var pt=w(qe);Qe=f(pt,"DIV",{class:!0});var Zt=w(Qe);ct=te(Zt,rt),Zt.forEach(v),Vt=D(pt),we&&we.l(pt),pt.forEach(v),Kt.forEach(v),ke.forEach(v),this.h()},h(){i(r,"class","site-icon svelte-17uildx"),i(m,"class","svelte-17uildx"),i(_,"class","site-url svelte-17uildx"),i(h,"class","site-details svelte-17uildx"),i(o,"class","site-info svelte-17uildx"),i(z,"class","open-external svelte-17uildx"),i(n,"class","preview-header svelte-17uildx"),i(L,"class","webview-icon svelte-17uildx"),i(I,"class","webview-url svelte-17uildx"),i(N,"class","webview-info svelte-17uildx"),i(R,"class","control-btn svelte-17uildx"),i(R,"title","Refresh"),i(j,"class","control-btn svelte-17uildx"),i(j,"title","Open in System Browser"),i(P,"class","control-btn test svelte-17uildx"),i(P,"title","Test Webview"),i(x,"class","webview-controls svelte-17uildx"),i(E,"class","webview-header svelte-17uildx"),i(_e,"class","webview-icon svelte-17uildx"),i(le,"class","svelte-17uildx"),i(M,"class","svelte-17uildx"),i(Be,"class","url-display svelte-17uildx"),i(Ne,"class","webview-features svelte-17uildx"),i(ae,"class","placeholder-content svelte-17uildx"),i(Z,"class","native-webview-placeholder svelte-17uildx"),i(A,"class","webview-container svelte-17uildx"),i(Se,"class","status-icon svelte-17uildx"),i(Ie,"class","status-item svelte-17uildx"),i(Fe,"class","status-item svelte-17uildx"),i(We,"class","status-item svelte-17uildx"),i(Ee,"class","status-items svelte-17uildx"),i(me,"class","webview-status svelte-17uildx"),i(q,"class","embedded-webview svelte-17uildx"),i(B,"class","preview-content svelte-17uildx"),i(l,"class","page-preview svelte-17uildx"),i(t,"class","webview-content svelte-17uildx"),i(Qe,"class",ut="pq-indicator "+(s[5].pq_posture?.toLowerCase()||"unknown")+" svelte-17uildx"),i(qe,"class","security-info svelte-17uildx"),i(Ye,"class","webview-overlay svelte-17uildx"),i(e,"class","webview-container svelte-17uildx")},m(ge,ke){Y(ge,e,ke),a(e,t),a(t,l),a(l,n),a(n,o),a(o,r),a(o,u),a(o,h),a(h,m),a(m,p),a(h,b),a(h,_),a(_,$),a(n,U),a(n,z),a(l,O),a(l,B),a(B,q),a(q,E),a(E,N),a(N,L),a(N,y),a(N,I),a(I,J),a(E,ne),a(E,x),a(x,R),ie(de,R,null),a(x,fe),a(x,j),a(x,F),a(x,P),a(q,k),a(q,A),a(A,Z),a(Z,ae),a(ae,_e),a(ae,Te),a(ae,le),a(ae,pe),a(ae,M),a(ae,ze),a(ae,Be),a(Be,Ke),a(Be,Oe),a(Oe,He),a(ae,Me),a(ae,Ne),a(q,Ze),a(q,me),a(me,Ee),a(Ee,Ie),a(Ie,Se),a(Ie,Et),a(Ie,Xe),a(Xe,Tt),a(Xe,it),a(Ee,Dt),a(Ee,Fe),a(Ee,yt),a(Ee,We),a(e,It),a(e,Ye),a(Ye,qe),a(qe,Qe),a(Qe,ct),a(qe,Vt),we&&we.m(qe,null),Ve=!0,zt||(Ot=[G(z,"click",s[27]),G(R,"click",s[28]),G(j,"click",s[29]),G(P,"click",s[9])],zt=!0)},p(ge,ke){(!Ve||ke[0]&32)&&C!==(C=(ge[5].title||tt(ge[5].url))+"")&&be(p,C),(!Ve||ke[0]&32)&&g!==(g=ge[5].url+"")&&be($,g),(!Ve||ke[0]&32)&&K!==(K=ge[5].url+"")&&be(J,K),(!Ve||ke[0]&32)&&De!==(De=ge[5].url+"")&&be(He,De),(!Ve||ke[0]&32)&&ot!==(ot=ge[5].pq_posture+"")&&be(it,ot),(!Ve||ke[0]&32)&&rt!==(rt=(ge[5].pq_posture||"Unknown")+"")&&be(ct,rt),(!Ve||ke[0]&32&&ut!==(ut="pq-indicator "+(ge[5].pq_posture?.toLowerCase()||"unknown")+" svelte-17uildx"))&&i(Qe,"class",ut),ge[5].vault_used&&ge[5].vault_used.length>0?we||(we=pl(),we.c(),we.m(qe,null)):we&&(we.d(1),we=null)},i(ge){Ve||(H(de.$$.fragment,ge),Ve=!0)},o(ge){W(de.$$.fragment,ge),Ve=!1},d(ge){ge&&v(e),ce(de),we&&we.d(),zt=!1,st(Ot)}}}function Bs(s){let e,t,l,n,o,r="Establishing secure connection...",c,u,h=s[5].url+"",m,C,p,b,_=(s[5].pq_posture||"Establishing...")+"",g,$,U,z="Opening in external browser...";return{c(){e=d("div"),t=d("div"),l=d("div"),n=T(),o=d("p"),o.textContent=r,c=T(),u=d("p"),m=ee(h),C=T(),p=d("div"),b=ee("Post-Quantum: "),g=ee(_),$=T(),U=d("p"),U.textContent=z,this.h()},l(V){e=f(V,"DIV",{class:!0});var O=w(e);t=f(O,"DIV",{class:!0});var B=w(t);l=f(B,"DIV",{class:!0}),w(l).forEach(v),n=D(B),o=f(B,"P",{class:!0,"data-svelte-h":!0}),X(o)!=="svelte-9yhrbs"&&(o.textContent=r),c=D(B),u=f(B,"P",{class:!0});var q=w(u);m=te(q,h),q.forEach(v),C=D(B),p=f(B,"DIV",{class:!0});var E=w(p);b=te(E,"Post-Quantum: "),g=te(E,_),E.forEach(v),$=D(B),U=f(B,"P",{class:!0,"data-svelte-h":!0}),X(U)!=="svelte-131gqt3"&&(U.textContent=z),B.forEach(v),O.forEach(v),this.h()},h(){i(l,"class","spinner svelte-17uildx"),i(o,"class","svelte-17uildx"),i(u,"class","url svelte-17uildx"),i(p,"class","pq-status svelte-17uildx"),i(U,"class","loading-message svelte-17uildx"),i(t,"class","loading-indicator svelte-17uildx"),i(e,"class","webview-placeholder svelte-17uildx")},m(V,O){Y(V,e,O),a(e,t),a(t,l),a(t,n),a(t,o),a(t,c),a(t,u),a(u,m),a(t,C),a(t,p),a(p,b),a(p,g),a(t,$),a(t,U)},p(V,O){O[0]&32&&h!==(h=V[5].url+"")&&be(m,h),O[0]&32&&_!==(_=(V[5].pq_posture||"Establishing...")+"")&&be(g,_)},i:Ce,o:Ce,d(V){V&&v(e)}}}function pl(s){let e,t="🔐 Vault Active";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1qd9hro"&&(e.textContent=t),this.h()},h(){i(e,"class","vault-indicator svelte-17uildx")},m(l,n){Y(l,e,n)},d(l){l&&v(e)}}}function gl(s){let e,t;return e=new ys({props:{downloads:s[6],mode:s[0]}}),e.$on("close",s[32]),e.$on("refresh",s[8]),{c(){oe(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},p(l,n){const o={};n[0]&64&&(o.downloads=l[6]),n[0]&1&&(o.mode=l[0]),e.$set(o)},i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Ns(s){let e,t,l,n=[],o=new Map,r,c,u="+",h,m,C,p,b,_,g,$,U,z,V,O,B=kt(s[3]);const q=y=>y[41].id;for(let y=0;y<B.length;y+=1){let I=ml(s,B,y),K=q(I);o.set(K,n[y]=bl(K,I))}m=new cs({props:{url:s[5]?.url||"",mode:s[0]}}),m.$on("navigate",s[22]),m.$on("back",Ss),m.$on("forward",Us),m.$on("bookmark",s[23]),m.$on("share",s[24]),m.$on("downloads",s[15]),m.$on("setting",s[25]),m.$on("menu",s[26]),m.$on("test-webview",s[9]);const E=[Vs,Is],N=[];function L(y,I){return y[5]&&y[5].url?0:1}b=L(s),_=N[b]=E[b](s),$=new ws({props:{tab:s[5],mode:s[0]}});let S=s[7]&&gl(s);return{c(){e=d("div"),t=d("div"),l=d("div");for(let y=0;y<n.length;y+=1)n[y].c();r=T(),c=d("button"),c.textContent=u,h=T(),oe(m.$$.fragment),C=T(),p=d("div"),_.c(),g=T(),oe($.$$.fragment),U=T(),S&&S.c(),this.h()},l(y){e=f(y,"DIV",{class:!0});var I=w(e);t=f(I,"DIV",{class:!0});var K=w(t);l=f(K,"DIV",{class:!0});var J=w(l);for(let x=0;x<n.length;x+=1)n[x].l(J);r=D(J),c=f(J,"BUTTON",{class:!0,"data-svelte-h":!0}),X(c)!=="svelte-1nkav2h"&&(c.textContent=u),J.forEach(v),K.forEach(v),h=D(I),re(m.$$.fragment,I),C=D(I),p=f(I,"DIV",{class:!0});var ne=w(p);_.l(ne),ne.forEach(v),g=D(I),re($.$$.fragment,I),U=D(I),S&&S.l(I),I.forEach(v),this.h()},h(){i(c,"class","new-tab-btn svelte-17uildx"),i(l,"class","tab-bar svelte-17uildx"),i(t,"class","browser-header svelte-17uildx"),i(p,"class","browser-content svelte-17uildx"),i(e,"class","browser-window cyberpunk-container svelte-17uildx"),se(e,"cyberpunk",s[0]==="cyberpunk"),se(e,"executive",s[0]==="executive"),se(e,"visible",s[1]),se(e,"inline",s[2])},m(y,I){Y(y,e,I),a(e,t),a(t,l);for(let K=0;K<n.length;K+=1)n[K]&&n[K].m(l,null);a(l,r),a(l,c),a(e,h),ie(m,e,null),a(e,C),a(e,p),N[b].m(p,null),a(e,g),ie($,e,null),a(e,U),S&&S.m(e,null),z=!0,V||(O=G(c,"click",s[21]),V=!0)},p(y,I){I[0]&12313&&(B=kt(y[3]),Le(),n=Vl(n,I,q,1,y,B,o,l,Hl,bl,r,ml),Ae());const K={};I[0]&32&&(K.url=y[5]?.url||""),I[0]&1&&(K.mode=y[0]),m.$set(K);let J=b;b=L(y),b===J?N[b].p(y,I):(Le(),W(N[J],1,1,()=>{N[J]=null}),Ae(),_=N[b],_?_.p(y,I):(_=N[b]=E[b](y),_.c()),H(_,1),_.m(p,null));const ne={};I[0]&32&&(ne.tab=y[5]),I[0]&1&&(ne.mode=y[0]),$.$set(ne),y[7]?S?(S.p(y,I),I[0]&128&&H(S,1)):(S=gl(y),S.c(),H(S,1),S.m(e,null)):S&&(Le(),W(S,1,1,()=>{S=null}),Ae()),(!z||I[0]&1)&&se(e,"cyberpunk",y[0]==="cyberpunk"),(!z||I[0]&1)&&se(e,"executive",y[0]==="executive"),(!z||I[0]&2)&&se(e,"visible",y[1]),(!z||I[0]&4)&&se(e,"inline",y[2])},i(y){if(!z){for(let I=0;I<B.length;I+=1)H(n[I]);H(m.$$.fragment,y),H(_),H($.$$.fragment,y),H(S),z=!0}},o(y){for(let I=0;I<n.length;I+=1)W(n[I]);W(m.$$.fragment,y),W(_),W($.$$.fragment,y),W(S),z=!1},d(y){y&&v(e);for(let I=0;I<n.length;I+=1)n[I].d();ce(m),N[b].d(),ce($),S&&S.d(),V=!1,O()}}}function tt(s){try{return new URL(s).hostname}catch{const t=s.match(/^https?:\/\/([^\/]+)/);return t?t[1]:s}}function Ss(){console.log("Go back")}function Us(){console.log("Go forward")}function Ps(s){console.log("Bookmark:",s)}function qs(s){console.log("Share:",s)}function Os(s,e,t){let l;Ct();let{mode:n="cyberpunk"}=e,{visible:o=!0}=e,{inline:r=!0}=e,c=[],u=null,h=[],m=!1,C={};Nl(async()=>{await p(),await b(),c.length===0&&await z("https://ghostshell.dev")});async function p(){try{t(3,c=await $e("browse_list_tabs"));const k=await $e("browse_get_active_tab");t(4,u=k)}catch(k){console.error("Failed to load tabs:",k),c.length===0&&(t(3,c=[]),t(4,u=null)),c.length>0&&!u&&t(4,u=c[0].id)}}async function b(){try{t(6,h=await $e("browse_get_downloads"))}catch(k){console.error("Failed to load downloads:",k),t(6,h=[])}}async function _(){try{C=await $e("browse_get_all_servo_stats")}catch(k){console.error("Failed to load Servo stats:",k),C={}}}async function g(){try{console.log("Testing webview creation...");const k=await $e("browse_test_webview",{testUrl:"https://example.com"});console.log("Webview test result:",k),alert("Webview test: "+k)}catch(k){console.error("Webview test failed:",k),alert("Webview test failed: "+k)}}async function $(k){try{console.log("Creating embedded webview for tab:",k);const A=document.querySelector(".browser-content");if(!A)throw new Error("Browser content area not found");const Z=A.getBoundingClientRect(),ae=Z.left+10,_e=Z.top+10,ye=Z.width-20,Te=Z.height-20,le=await $e("browse_create_tab_webview",{tabId:k,x:ae,y:_e,width:ye,height:Te});return console.log("Tab webview created:",le),le}catch(A){throw console.error("Failed to create tab webview:",A),A}}async function U(k){try{await $e("browse_close_tab_webview",{tabId:k}),console.log("Tab webview closed for:",k)}catch(A){console.error("Failed to close tab webview:",A)}}async function z(k="https://example.com"){try{const A=await $e("browse_open",{url:k,isIncognito:!1});await p(),t(4,u=A)}catch(A){console.error("Failed to open new tab:",A);const Z=`tab_${Date.now()}`,ae={id:Z,url:k,title:tt(k),loading:!1,pq_posture:"Hybrid",created_at:new Date().toISOString(),state:"Loaded"};t(3,c=[...c,ae]),t(4,u=Z),console.log("Created new tab:",ae)}}async function V(k){try{await U(k),await $e("browse_close",{tabId:k}),await p(),u===k&&t(4,u=c.length>0?c[0].id:null)}catch(A){console.error("Failed to close tab:",A),t(3,c=c.filter(Z=>Z.id!==k)),u===k&&t(4,u=c.length>0?c[0].id:null)}}async function O(k){try{u&&u!==k&&await U(u),await $e("browse_set_active_tab",{tabId:k}),t(4,u=k),t(5,l=c.find(A=>A.id===k)),l&&setTimeout(async()=>{try{await $(k)}catch(A){console.error("Failed to create webview for tab:",A)}},100)}catch(A){console.error("Failed to set active tab:",A),c.find(Z=>Z.id===k)&&(t(4,u=k),t(5,l=c.find(Z=>Z.id===k)))}}async function B(k){if(u)try{t(3,c=c.map(A=>A.id===u?{...A,url:k,title:"Loading...",loading:!0,pq_posture:"Establishing..."}:A)),await $e("browse_navigate",{tabId:u,url:k}),setTimeout(async()=>{try{await S(k),t(3,c=c.map(A=>A.id===u?{...A,title:`${tt(k)} (External)`,loading:!1,pq_posture:"Hybrid",state:"Active"}:A)),await p(),setTimeout(async()=>{await _()},1e3)}catch(A){console.error("Failed to open in external browser or reload tabs:",A),t(3,c=c.map(Z=>Z.id===u?{...Z,title:tt(k),loading:!1,pq_posture:"Hybrid",state:"Active"}:Z))}},1500)}catch(A){console.error("Failed to navigate:",A),t(3,c=c.map(Z=>Z.id===u?{...Z,url:k,title:"Loading...",loading:!0,pq_posture:"Establishing..."}:Z)),setTimeout(()=>{t(3,c=c.map(Z=>Z.id===u?{...Z,title:tt(k),loading:!1,pq_posture:"Hybrid",state:"Active"}:Z))},2e3)}}function q(){return c.find(k=>k.id===u)}function E(){t(7,m=!m)}function N(k){switch(console.log("Setting:",k),k){case"privacy":break;case"appearance":break;case"downloads":t(7,m=!0);break}}function L(k){switch(console.log("Menu action:",k),k){case"new-tab":z();break;case"new-window":break;case"incognito":z("https://example.com");break;case"bookmarks":break;case"history":break;case"downloads":t(7,m=!0);break}}async function S(k){try{await $e("browse_open_external",{url:k}),console.log("Successfully opened URL in external browser:",k)}catch(A){console.error("Failed to open URL in external browser:",A),alert(`Failed to open ${k} in your default browser.

Error: ${A}`)}}const y=k=>O(k.id),I=k=>V(k.id),K=()=>z(),J=k=>B(k.detail),ne=k=>Ps(k.detail),x=k=>qs(k.detail),R=k=>N(k.detail),de=k=>L(k.detail),fe=()=>S(l.url),j=()=>refreshTab(l.id),Q=()=>openInExternal(l.url),F=()=>z(),P=()=>l&&$(l.id),ve=()=>t(7,m=!1);return s.$$set=k=>{"mode"in k&&t(0,n=k.mode),"visible"in k&&t(1,o=k.visible),"inline"in k&&t(2,r=k.inline)},s.$$.update=()=>{s.$$.dirty[0]&56&&console.log("Tab state debug:",{tabsCount:c.length,activeTabId:u,activeTab:l?{id:l.id,title:l.title,loading:l.loading}:null,allTabs:c.map(k=>({id:k.id,title:k.title,loading:k.loading}))})},t(5,l=q()),[n,o,r,c,u,l,h,m,b,g,$,z,V,O,B,E,N,L,S,y,I,K,J,ne,x,R,de,fe,j,Q,F,P,ve]}class Rs extends je{constructor(e){super(),Ge(this,e,Os,Ns,Re,{mode:0,visible:1,inline:2},null,[-1,-1])}}export{Rs as default};
